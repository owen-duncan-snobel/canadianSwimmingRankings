{"ast":null,"code":"var _jsxFileName = \"/Users/owen/Desktop/Selenium_Scraping_Js/SwimCanada/Puppeteer_Scraping_SwimCanada/swim-app/src/components/piechart/piechart.js\";\nimport React, { Component } from 'react';\nimport { Pie } from 'react-chartjs-2';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\nclass Piechart extends Component {\n  // * Props can be deconstructed from meetData: {meetData (Meet Names), meetNumber (Array of number of occ. of each meet)}\n  render() {\n    let data;\n    let options;\n    let average;\n    let median;\n    let mode;\n    let times;\n    let meets;\n    let meetData;\n    let meetName;\n    let meetNumber;\n    let timeNumber;\n    let timeName; // * If no data has been passed down from the form or invalid display empty form\n\n    if (this.props.meetData === null) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 17\n        }\n      }, \" \");\n    } else {\n      const standardize_times = time => {\n        // * Ensures that all time strings given are in an appropriate ISO String format\n        if (time.length === 5) time = '00:' + time;\n        if (time.length === 7) time = '0' + time;\n        let milli = parseInt(time.split(':')[0] * 60000) + parseInt(time.split(':')[1].split('.')[0] * 1000) + parseInt(time.split('.')[1]) * 10;\n        return milli;\n      }; // * Finds the Swim Meet with the most occurences of best times from the top 50 Swimmers\n\n\n      const mostOccurences = list => {\n        let map = new Map();\n\n        while (list.length !== 0) {\n          if (!map.has(list[0])) {\n            map.set(list[0], 1);\n          } else {\n            map.set(list[0], map.get(list[0]) + 1);\n          }\n\n          list.shift();\n        }\n\n        let occurenceName = Array.from(map.keys());\n        let occurenceNumber = Array.from(map.values());\n        return {\n          occurenceName,\n          occurenceNumber\n        };\n      }; // * Average and Median Times\n\n\n      const averageTime = time => {\n        let average = time.reduce((a, b) => a + b);\n        return new Date(average / time.length).toISOString().substr(14, 8);\n      };\n\n      const medianTime = time => {\n        let index = Math.floor(time.length / 2);\n        let median; // * If the length % 2 === 0 (aka even number)\n\n        if (time.length % 2 === 0 && time.length !== 0) {\n          // * Minus one is needed for correct array index of even number centre points\n          median = (time[index - 1] + time[index]) / 2;\n        } else if (time.length % 2 === 1) {\n          median = time[index];\n        }\n\n        return new Date(median).toISOString().substr(14, 8);\n      };\n\n      const modeTime = time => {\n        // * Times is given in Milliseconds, and from lowest to highest. We will convert to seconds and round down to standardize mode to seconds\n        let toModeSeconds = time.map(el => Math.floor(el / 1000));\n        let modeOccurence = mostOccurences(toModeSeconds);\n        console.log(modeOccurence);\n        let occurenceName = modeOccurence.occurenceName;\n        let occurenceNumber = modeOccurence.occurenceNumber;\n        return {\n          occurenceName,\n          occurenceNumber\n        };\n      };\n\n      times = this.props.meetData.map(time => standardize_times(time.__EMPTY_7));\n      meets = this.props.meetData.map(meet => meet.__EMPTY_12);\n      meetData = mostOccurences(meets);\n      meetName = meetData.occurenceName;\n      meetNumber = meetData.occurenceNumber;\n      average = averageTime(times);\n      median = medianTime(times);\n      mode = modeTime(times);\n      timeName = mode.occurenceName;\n      timeNumber = mode.occurenceNumber;\n      data = {\n        labels: meetName,\n        datasets: [{\n          data: meetNumber,\n          backgroundColor: ['red', 'yellow']\n        }]\n      };\n      options = {\n        legend: {\n          display: false\n        }\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      name: \"averageTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }, \"The Average time is: \", average), /*#__PURE__*/React.createElement(\"h6\", {\n      name: \"medianTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }, \"The Median time is: \", median), /*#__PURE__*/React.createElement(\"h6\", {\n      name: \"modeTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, \"Most swimmers fall within \", timeName, \" and \", timeNumber, \"  \"), /*#__PURE__*/React.createElement(\"h6\", {\n      name: \"selectedTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    }, this.props.swimmerName ? this.props.swimmerName.split(',').reverse().join(' ') : '', \" \", this.props.swimmerTime))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }, \"Fastest Swim Meets:\"), /*#__PURE__*/React.createElement(Pie, {\n      data: data,\n      options: options,\n      height: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nexport default Piechart;","map":{"version":3,"sources":["/Users/owen/Desktop/Selenium_Scraping_Js/SwimCanada/Puppeteer_Scraping_SwimCanada/swim-app/src/components/piechart/piechart.js"],"names":["React","Component","Pie","Container","Col","Row","Piechart","render","data","options","average","median","mode","times","meets","meetData","meetName","meetNumber","timeNumber","timeName","props","standardize_times","time","length","milli","parseInt","split","mostOccurences","list","map","Map","has","set","get","shift","occurenceName","Array","from","keys","occurenceNumber","values","averageTime","reduce","a","b","Date","toISOString","substr","medianTime","index","Math","floor","modeTime","toModeSeconds","el","modeOccurence","console","log","__EMPTY_7","meet","__EMPTY_12","labels","datasets","backgroundColor","legend","display","swimmerName","reverse","join","swimmerTime"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Pie } from 'react-chartjs-2'\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\nclass Piechart extends Component {\n    // * Props can be deconstructed from meetData: {meetData (Meet Names), meetNumber (Array of number of occ. of each meet)}\n    render() {\n\n        let data;\n        let options;\n        let average;\n        let median;\n        let mode;\n        let times;\n        let meets;\n        let meetData;\n        let meetName;\n        let meetNumber;\n        let timeNumber;\n        let timeName;\n\n        // * If no data has been passed down from the form or invalid display empty form\n        if (this.props.meetData === null) {\n            return (\n                <div> </div>\n            )\n        } else {\n\n            const standardize_times = (time) => {\n                // * Ensures that all time strings given are in an appropriate ISO String format\n                if (time.length === 5) time = '00:' + time;\n                if (time.length === 7) time = '0' + time;\n                let milli = ((parseInt(time.split(':')[0] * 60000)) + (parseInt(time.split(':')[1].split('.')[0] * 1000)) + (parseInt(time.split('.')[1]) * 10));\n                return milli;\n            }\n\n            // * Finds the Swim Meet with the most occurences of best times from the top 50 Swimmers\n            const mostOccurences = (list) => {\n                let map = new Map();\n                while (list.length !== 0) {\n                    if (!map.has(list[0])) {\n                        map.set(list[0], 1);\n                    } else {\n                        map.set(list[0], map.get(list[0]) + 1);\n                    }\n                    list.shift();\n                }\n                let occurenceName = Array.from(map.keys())\n                let occurenceNumber = Array.from(map.values())\n                return { occurenceName, occurenceNumber }\n            }\n\n\n\n            // * Average and Median Times\n            const averageTime = (time) => {\n                let average = time.reduce((a, b) => a + b);\n                return new Date(average / time.length).toISOString().substr(14, 8);\n            }\n\n            const medianTime = (time) => {\n                let index = Math.floor(time.length / 2);\n                let median;\n                // * If the length % 2 === 0 (aka even number)\n                if (time.length % 2 === 0 && time.length !== 0) {\n                    // * Minus one is needed for correct array index of even number centre points\n                    median = (time[index - 1] + time[index]) / 2;\n                } else if (time.length % 2 === 1) {\n                    median = time[index];\n                }\n                return new Date(median).toISOString().substr(14, 8)\n            }\n\n\n            const modeTime = (time) => {\n                // * Times is given in Milliseconds, and from lowest to highest. We will convert to seconds and round down to standardize mode to seconds\n                let toModeSeconds = time.map(el => Math.floor(el / 1000));\n                let modeOccurence = mostOccurences(toModeSeconds);\n                console.log(modeOccurence);\n                let occurenceName = modeOccurence.occurenceName;\n                let occurenceNumber = modeOccurence.occurenceNumber;\n                return { occurenceName, occurenceNumber };\n            }\n\n            times = this.props.meetData.map(time => standardize_times(time.__EMPTY_7));\n            meets = this.props.meetData.map(meet => meet.__EMPTY_12);\n\n            meetData = mostOccurences(meets);\n            meetName = meetData.occurenceName;\n            meetNumber = meetData.occurenceNumber;\n\n            average = averageTime(times);\n            median = medianTime(times);\n            mode = modeTime(times);\n            timeName = mode.occurenceName;\n            timeNumber = mode.occurenceNumber;\n\n\n            data = {\n                labels: meetName,\n                datasets: [{\n                    data: meetNumber,\n                    backgroundColor: ['red', 'yellow']\n                }]\n            }\n            options = {\n                legend: {\n                    display: false\n                }\n            }\n\n\n\n        }\n\n        return (\n            <div>\n                <Container>\n                    <Row className='mt-5 mb-5'>\n                        <Col>\n                            {/* Average, Median Times, Mode Times */}\n                            <h6 name=\"averageTime\">The Average time is: {average}</h6>\n                            <h6 name=\"medianTime\">The Median time is: {median}</h6>\n                            <h6 name=\"modeTime\">Most swimmers fall within {timeName} and {timeNumber}  </h6>\n                            <h6 name=\"selectedTime\">{this.props.swimmerName ? this.props.swimmerName.split(',').reverse().join(' ') : ''} {this.props.swimmerTime}</h6>\n\n                        </Col>\n                    </Row>\n                    {/* * Fastest Meets */}\n                    {/**\n                 *  TODO NEED to go back and add a table listing the fastest meets might be easier to view\n                 */}\n                    <Row>\n                        <Col>\n                            <h4>Fastest Swim Meets:</h4>\n                            <Pie data={data} options={options} height={100} />\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n        )\n    }\n}\nexport default Piechart;"]},"metadata":{},"sourceType":"module"}