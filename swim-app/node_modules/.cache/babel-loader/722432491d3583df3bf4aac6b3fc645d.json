{"ast":null,"code":"var _jsxFileName = \"/Users/owen/Desktop/Selenium_Scraping_Js/SwimCanada/Puppeteer_Scraping_SwimCanada/swim-app/src/components/linegraph/linegraph.js\";\nimport React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\n/**\n *   The dashboard is responsible for housing the Chart and styling for the chart\n *   it also will pass the chart back to the main app.\n */\n// TODO NEED TO RECREATE THE TABLE THAT IS USED ON THE MAIN PAGE FOR THE SELECTION OF DATA TO GRAB THE LINK FROM\n\nclass Linegraph extends Component {\n  render() {\n    let data;\n    let options;\n    let average;\n    let median; // * If no data has been passed down from the form or invalid display empty form\n\n    if (this.props.swimmerData == null) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        name: \"DashboardforChart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 17\n        }\n      }, \" \");\n    } else {\n      // * Converting the JSON To working usable data to graph (Shifts and pop are for removing the default row)\n      let athletes = this.props.swimmerData.map(athlete => athlete.__EMPTY_3);\n      let rank = this.props.swimmerData.map(rank => rank.__EMPTY_9).reverse(); // * Since Swim Times can Range from under a minute up to 20 mins we will standardize the times to all have the same length \n      // * In the following format MM:SS:ss\n\n      const standardize_times = time => {\n        // * Ensures that all time strings given are in an appropriate ISO String format\n        if (time.length === 5) time = '00:' + time;\n        if (time.length === 7) time = '0' + time;\n        let milli = parseInt(time.split(':')[0] * 60000) + parseInt(time.split(':')[1].split('.')[0] * 1000) + parseInt(time.split('.')[1]) * 10;\n        return milli;\n      };\n\n      let times = this.props.swimmerData.map(time => standardize_times(time.__EMPTY_7)).reverse(); // * Data that will be passed to the Linegraph Component\n\n      data = {\n        labels: rank,\n        datasets: [{\n          label: this.props.swimEvent,\n          backgroundColor: 'rgb(255, 99, 132)',\n          pointBackgroundColor: ['rgb(255, 99, 132)'],\n          borderColor: 'rgb(255, 99, 132)',\n          fill: false,\n          data: times\n        }]\n      };\n      options = {\n        responsive: true,\n        maintainAspectRatio: false,\n        animation: {\n          duration: 0 // general animation time\n\n        },\n        onClick: function (event, item) {// * Error handling is needed for if a point is not clicked but within the canvas\n\n          /*                     if (!(item.length === 0)) {\n                                  let index = item[0]._index;\n                                  // * Resets the point that was clicked prior back to original colour\n                                  for (let i = 0; i < item[0]._chart.config.data.datasets[0].data.length; i++) {\n                                      item[0]._chart.config.data.datasets[0]['pointBackgroundColor'][i] = 'rgb(255, 99, 132)';\n                                  }\n                                  // * Sets the point clicked colour to highlighted color\n                                  item[0]._chart.config.data.datasets[0]['pointBackgroundColor'][index] = 'white';\n                                                      \n                                                        TODO Need to go back and get the functionality and logic more polished for scrolling to and highlight the correct points        \n                                                         // * 49 - Index is needed since the datasets index's are reversed to graph, + 1 is for correct place (1st, 2nd, ...)\n                                                        document.getElementsByTagName('table')[0].style.backgroundColor = 'none';\n                                                        document.getElementsByTagName('tr').namedItem((49 - index) + 1).style.backgroundColor = 'yellow';\n                                 \n                                  this.update();\n                              } */\n        },\n        tooltips: {\n          callbacks: {\n            // * Updates the Tooltips (Graph Points) with the Name,Time \n            label: (tooltipItem, data) => {\n              // * Label Array is used to create multiple labels inside of data element in graph. \n              let labelArr = [];\n              labelArr.push(athletes[tooltipItem.label - 1] + ' ' + new Date(tooltipItem.yLabel).toISOString().substr(14, 8));\n              return labelArr;\n            }\n          }\n        },\n        scales: {\n          yAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: \"Times (Seconds)\"\n            },\n            ticks: {\n              callback: function (v) {\n                //* Responsible for the time graphing for the y-axis (converts ms to a readable format)\n                return new Date(v).toISOString().substr(14, 8);\n              }\n            }\n          }],\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: \"Rank\"\n            }\n          }]\n        }\n      }; // * Average and Median Times\n\n      const averageTime = time => {\n        let average = time.reduce((a, b) => a + b);\n        return new Date(average / time.length).toISOString().substr(14, 8);\n      };\n\n      const medianTime = time => {\n        let index = Math.floor(time.length / 2);\n        let median; // * If the length % 2 === 0 (aka even number)\n\n        if (time.length % 2 === 0 && time.length !== 0) {\n          // * Minus one is needed for correct array index of even number centre points\n          median = (time[index - 1] + time[index]) / 2;\n        } else if (time.length % 2 === 1) {\n          median = time[index];\n        }\n\n        return new Date(median).toISOString().substr(14, 8);\n      };\n\n      let swimtimes = this.props.swimmerData.map(time => standardize_times(time.__EMPTY_7));\n      average = averageTime(swimtimes);\n      median = medianTime(swimtimes);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, \"Canadian Swimming Rankings\"), /*#__PURE__*/React.createElement(\"div\", {\n      name: \"DashboardforChart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Line, {\n      data: data,\n      options: options,\n      height: 400,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, \"Data Insights\"), /*#__PURE__*/React.createElement(\"h4\", {\n      name: \"averageTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, \"The Average time is: \", average), /*#__PURE__*/React.createElement(\"h4\", {\n      name: \"medianTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"The Median time is: \", median), /*#__PURE__*/React.createElement(\"h4\", {\n      name: \"selectedTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, \"The Selected Swimmers time is :\")));\n  }\n\n}\n\nexport default Linegraph;","map":{"version":3,"sources":["/Users/owen/Desktop/Selenium_Scraping_Js/SwimCanada/Puppeteer_Scraping_SwimCanada/swim-app/src/components/linegraph/linegraph.js"],"names":["React","Component","Line","Linegraph","render","data","options","average","median","props","swimmerData","athletes","map","athlete","__EMPTY_3","rank","__EMPTY_9","reverse","standardize_times","time","length","milli","parseInt","split","times","__EMPTY_7","labels","datasets","label","swimEvent","backgroundColor","pointBackgroundColor","borderColor","fill","responsive","maintainAspectRatio","animation","duration","onClick","event","item","tooltips","callbacks","tooltipItem","labelArr","push","Date","yLabel","toISOString","substr","scales","yAxes","scaleLabel","display","labelString","ticks","callback","v","xAxes","averageTime","reduce","a","b","medianTime","index","Math","floor","swimtimes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\n/**\n *   The dashboard is responsible for housing the Chart and styling for the chart\n *   it also will pass the chart back to the main app.\n */\n\n\n// TODO NEED TO RECREATE THE TABLE THAT IS USED ON THE MAIN PAGE FOR THE SELECTION OF DATA TO GRAB THE LINK FROM\n\nclass Linegraph extends Component {\n    render() {\n        let data;\n        let options;\n        let average;\n        let median;\n        // * If no data has been passed down from the form or invalid display empty form\n        if (this.props.swimmerData == null) {\n            return (\n                <div name=\"DashboardforChart\"> </div>\n            )\n        } else {\n\n            // * Converting the JSON To working usable data to graph (Shifts and pop are for removing the default row)\n            let athletes = this.props.swimmerData.map(athlete => athlete.__EMPTY_3);\n            let rank = this.props.swimmerData.map(rank => rank.__EMPTY_9).reverse();\n\n            // * Since Swim Times can Range from under a minute up to 20 mins we will standardize the times to all have the same length \n            // * In the following format MM:SS:ss\n            const standardize_times = (time) => {\n                // * Ensures that all time strings given are in an appropriate ISO String format\n                if (time.length === 5) time = '00:' + time;\n                if (time.length === 7) time = '0' + time;\n                let milli = ((parseInt(time.split(':')[0] * 60000)) + (parseInt(time.split(':')[1].split('.')[0] * 1000)) + (parseInt(time.split('.')[1]) * 10));\n                return milli;\n            }\n\n            let times = this.props.swimmerData.map(time => standardize_times(time.__EMPTY_7)).reverse();\n\n            // * Data that will be passed to the Linegraph Component\n            data = {\n                labels: rank,\n                datasets: [{\n                    label: this.props.swimEvent,\n                    backgroundColor: 'rgb(255, 99, 132)',\n                    pointBackgroundColor: ['rgb(255, 99, 132)'],\n                    borderColor: 'rgb(255, 99, 132)',\n                    fill: false,\n                    data: times,\n                }]\n            }\n\n            options = {\n                responsive: true,\n                maintainAspectRatio: false,\n                animation: {\n                    duration: 0 // general animation time\n                },\n                onClick: function (event, item) {\n                    // * Error handling is needed for if a point is not clicked but within the canvas\n                    /*                     if (!(item.length === 0)) {\n                                            let index = item[0]._index;\n                                            // * Resets the point that was clicked prior back to original colour\n                                            for (let i = 0; i < item[0]._chart.config.data.datasets[0].data.length; i++) {\n                                                item[0]._chart.config.data.datasets[0]['pointBackgroundColor'][i] = 'rgb(255, 99, 132)';\n                                            }\n                                            // * Sets the point clicked colour to highlighted color\n                                            item[0]._chart.config.data.datasets[0]['pointBackgroundColor'][index] = 'white';\n                                                                \n                                                                  TODO Need to go back and get the functionality and logic more polished for scrolling to and highlight the correct points        \n                                                                   // * 49 - Index is needed since the datasets index's are reversed to graph, + 1 is for correct place (1st, 2nd, ...)\n                                                                  document.getElementsByTagName('table')[0].style.backgroundColor = 'none';\n                                                                  document.getElementsByTagName('tr').namedItem((49 - index) + 1).style.backgroundColor = 'yellow';\n                                           \n                                            this.update();\n                                        } */\n                },\n                tooltips: {\n                    callbacks: {\n                        // * Updates the Tooltips (Graph Points) with the Name,Time \n                        label: (tooltipItem, data) => {\n                            // * Label Array is used to create multiple labels inside of data element in graph. \n                            let labelArr = [];\n                            labelArr.push(athletes[tooltipItem.label - 1] + ' ' + new Date(tooltipItem.yLabel).toISOString().substr(14, 8));\n                            return labelArr;\n                        }\n                    }\n                },\n                scales: {\n                    yAxes: [{\n                        scaleLabel: {\n                            display: true,\n                            labelString: \"Times (Seconds)\",\n                        },\n                        ticks: {\n                            callback: function (v) {\n                                //* Responsible for the time graphing for the y-axis (converts ms to a readable format)\n                                return new Date(v).toISOString().substr(14, 8)\n                            }\n                        }\n                    }],\n                    xAxes: [{\n                        scaleLabel: {\n                            display: true,\n                            labelString: \"Rank\",\n                        }\n                    }]\n                }\n            }\n\n            // * Average and Median Times\n            const averageTime = (time) => {\n                let average = time.reduce((a, b) => a + b);\n                return new Date(average / time.length).toISOString().substr(14, 8);\n            }\n\n            const medianTime = (time) => {\n                let index = Math.floor(time.length / 2);\n                let median;\n                // * If the length % 2 === 0 (aka even number)\n                if (time.length % 2 === 0 && time.length !== 0) {\n                    // * Minus one is needed for correct array index of even number centre points\n                    median = (time[index - 1] + time[index]) / 2;\n                } else if (time.length % 2 === 1) {\n                    median = time[index];\n                }\n                return new Date(median).toISOString().substr(14, 8)\n            }\n\n            let swimtimes = this.props.swimmerData.map(time => standardize_times(time.__EMPTY_7));\n            average = averageTime(swimtimes);\n            median = medianTime(swimtimes);\n        }\n\n\n        return (\n            <div>\n                <div className=\"App\">Canadian Swimming Rankings</div>\n                <div name=\"DashboardforChart\">\n                    <Line data={data} options={options} height={400}> </Line>\n                    <h2>Data Insights</h2>\n\n                    {/* Average, Median Times */}\n                    <h4 name=\"averageTime\">The Average time is: {average}</h4>\n                    <h4 name=\"medianTime\">The Median time is: {median}</h4>\n                    <h4 name=\"selectedTime\">The Selected Swimmers time is :</h4>\n                </div>\n            </div >\n        )\n    }\n}\nexport default Linegraph;"]},"metadata":{},"sourceType":"module"}